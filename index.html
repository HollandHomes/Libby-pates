<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renovation Proposal - Libby Pates</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .proposal-card {
            background: white;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }
        canvas {
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            background-color: #fdfdfd;
            cursor: crosshair;
            touch-action: none;
        }
        .material-table th {
            background-color: #f1f5f9;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }
        @media print {
            .no-print { display: none !important; }
            body { background: white; padding: 0; }
            .proposal-card { box-shadow: none; border: none; width: 100%; max-width: 100%; }
            .page-break { page-break-before: always; }
            .instruction-box { display: none !important; }
        }
    </style>
</head>
<body class="py-10 px-4">

    <div class="max-w-4xl mx-auto proposal-card rounded-2xl overflow-hidden">
        <!-- Header Section -->
        <header class="bg-slate-900 text-white p-8 sm:p-12">
            <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left gap-6">
                <div>
                    <h1 class="text-3xl font-bold tracking-tight">Holland Family Home Services, Inc.</h1>
                    <p class="text-slate-400 mt-2">70 Copper Head Trail, Murphy, NC 28906</p>
                    <p class="text-slate-400">828-541-2442 | TheHollandSeven@gmail.com</p>
                </div>
                <div class="bg-slate-800 p-4 rounded-xl border border-slate-700">
                    <p class="text-xs uppercase font-bold text-slate-500">Proposal ID</p>
                    <p class="text-xl font-mono">#2026-002-LP</p>
                </div>
            </div>
        </header>

        <div class="p-8 sm:p-12">
            <!-- Client Info -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12 pb-8 border-b border-slate-100">
                <div>
                    <h3 class="text-sm uppercase font-bold text-slate-400 mb-2">Prepared For</h3>
                    <p class="text-xl font-bold text-slate-800">Libby Pates</p>
                    <p class="text-slate-600">168 Clay Durrett Rd</p>
                    <p class="text-slate-600">Murphy, NC 28906</p>
                </div>
                <div class="md:text-right">
                    <h3 class="text-sm uppercase font-bold text-slate-400 mb-2">Project Date</h3>
                    <p class="text-lg font-semibold text-slate-800">January 7, 2026</p>
                    <p class="text-slate-500 italic mt-1 text-sm">Valid for 30 Days</p>
                </div>
            </div>

            <!-- Scope Introduction -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold text-slate-800 mb-4 border-l-4 border-indigo-600 pl-4">Project Objective</h2>
                <p class="text-slate-600 leading-relaxed mb-6">
                    This proposal outlines the conversion of existing bathroom fixtures into accessible, modern <strong>32" x 60" x 72"</strong> walk-in shower suites. Each configuration is designed for maximum safety with integrated grab bars and high-quality plumbing fixtures.
                </p>
                <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                    <p class="text-indigo-800 text-sm">
                        <strong>Interactive Options:</strong> This is a modular proposal. You can choose to proceed with one or both bathrooms. You may also toggle the <strong>Glass Shower Door</strong> upgrade for each unit. Prices update automatically.
                    </p>
                </div>
            </section>

            <!-- Interactive Selection Cards -->
            <div class="space-y-6 mb-12">
                
                <!-- UPPER FLOOR CARD -->
                <div class="group relative border-2 border-slate-200 rounded-2xl p-6 transition-all hover:border-indigo-400 hover:shadow-md bg-white">
                    <label class="flex items-start cursor-pointer">
                        <input type="checkbox" id="check-upper" class="project-checkbox mt-1.5 h-6 w-6 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500" checked>
                        <div class="ml-6 flex-1">
                            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2">
                                <h3 class="text-xl font-bold text-slate-800">1. Upper Floor (Framed Construction)</h3>
                                <span id="upper-price-display" class="text-2xl font-black text-indigo-700">$0.00</span>
                            </div>
                            <p class="text-slate-600 text-sm mb-6 leading-relaxed">
                                Complete removal of existing tub. Installation of 32x60 walk-in shower on framed floor. Includes plumbing relocation, pressure-balanced valve ($250 allowance), and two (2) ADA grab bars.
                            </p>
                            
                            <!-- Upgrade Toggle -->
                            <div class="inline-flex items-center bg-slate-100 p-3 rounded-lg border border-slate-200">
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox" id="door-upper" class="door-checkbox h-5 w-5 text-indigo-600 rounded border-slate-300" data-addon="607.05">
                                    <span class="ml-3 text-sm font-semibold text-slate-700">Include Glass Shower Door Upgrade (+$607.05)</span>
                                </label>
                            </div>
                        </div>
                    </label>
                </div>

                <!-- LOWER FLOOR CARD -->
                <div class="group relative border-2 border-slate-200 rounded-2xl p-6 transition-all hover:border-indigo-400 hover:shadow-md bg-white">
                    <label class="flex items-start cursor-pointer">
                        <input type="checkbox" id="check-lower" class="project-checkbox mt-1.5 h-6 w-6 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <div class="ml-6 flex-1">
                            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2">
                                <h3 class="text-xl font-bold text-slate-800">2. Lower Floor (Slab Construction)</h3>
                                <span id="lower-price-display" class="text-2xl font-black text-indigo-700">$0.00</span>
                            </div>
                            <p class="text-slate-600 text-sm mb-6 leading-relaxed">
                                Specialized slab-on-grade installation. Includes concrete slab penetration, jackhammering for drain relocation, concrete restoration, and moisture barrier. Includes two (2) ADA grab bars.
                            </p>
                            
                            <!-- Upgrade Toggle -->
                            <div class="inline-flex items-center bg-slate-100 p-3 rounded-lg border border-slate-200">
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox" id="door-lower" class="door-checkbox h-5 w-5 text-indigo-600 rounded border-slate-300" data-addon="607.05">
                                    <span class="ml-3 text-sm font-semibold text-slate-700">Include Glass Shower Door Upgrade (+$607.05)</span>
                                </label>
                            </div>
                        </div>
                    </label>
                </div>

            </div>

            <!-- Grand Total Bar -->
            <div class="bg-slate-900 rounded-2xl p-8 mb-16 shadow-lg flex flex-col md:flex-row justify-between items-center text-white border border-slate-800">
                <div class="mb-6 md:mb-0 text-center md:text-left">
                    <h4 class="text-indigo-400 uppercase tracking-widest font-bold text-xs mb-1">Guaranteed Maximum Price</h4>
                    <p class="text-sm text-slate-400">Fixed-price contract including all labor, materials, and tax.</p>
                </div>
                <div class="text-center md:text-right">
                    <span id="grand-total" class="text-5xl font-black tracking-tight">$0.00</span>
                </div>
            </div>

            <!-- Terms & Conditions -->
            <section class="mb-16">
                <h3 class="text-lg font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2">Terms & Conditions</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4 text-sm text-slate-600">
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Payment:</strong> 50% deposit required to secure schedule. Balance due upon substantial completion.</p>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Warranty:</strong> 1-year limited labor warranty. Manufacturers' warranties apply to all fixtures.</p>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Drywall:</strong> Includes patching and mudding to paint-ready status. Final painting is excluded.</p>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Tile Protection:</strong> Every effort will be made to avoid damage to existing wall/floor tile and to butt the new shower unit to existing tile. However, if incidental damage occurs during demolition or install, any necessary tile repair/replacement is excluded from this quote.</p>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Exclusions:</strong> Structural rot repair, electrical upgrades, or remediation of pre-existing sub-code conditions.</p>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Curtain Option:</strong> If glass door is not selected, contractor will install a standard curtain rod; client provides curtain/rings.</p>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-indigo-600 font-bold">•</span>
                        <p><strong>Dump Fee:</strong> Proposal includes all disposal and recycling fees for project-related debris.</p>
                    </div>
                </div>
            </section>

            <!-- Acceptance Signatures -->
            <section class="mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div>
                        <h4 class="text-xs uppercase font-bold text-slate-400 mb-4 tracking-widest">Contractor Signature</h4>
                        <canvas id="sig-pad" width="400" height="140" class="w-full"></canvas>
                        <div class="mt-3 flex justify-between">
                            <button onclick="clearSig()" class="text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors no-print">Clear Signature</button>
                            <span class="text-[10px] text-slate-400 italic">Sign with mouse or finger</span>
                        </div>
                    </div>
                    <div class="flex flex-col justify-end">
                        <div class="border-b-2 border-slate-200 pb-2 mb-6 text-slate-400 italic text-sm">Authorized Contractor - Print Name</div>
                        <div class="border-b-2 border-slate-200 pb-2 text-slate-400 italic text-sm">Date Signed</div>
                    </div>
                </div>

                <!-- Submission Instructions -->
                <div class="mt-12 bg-slate-50 p-6 rounded-2xl border border-dashed border-slate-300 instruction-box">
                    <h4 class="text-sm font-bold text-slate-700 mb-3 uppercase tracking-widest">How to return this signed contract:</h4>
                    <ol class="text-sm text-slate-600 list-decimal ml-5 space-y-2">
                        <li><strong>Sign Above:</strong> Use your mouse or touch screen to sign the box above.</li>
                        <li><strong>Generate PDF:</strong> Click the indigo <strong>"Download PDF / Print Proposal"</strong> button at the bottom of the page.</li>
                        <li><strong>Save as PDF:</strong> In the print preview window, change the "Destination" to <strong>"Save as PDF"</strong> or <strong>"Print to PDF"</strong>.</li>
                        <li><strong>Return via Email:</strong> Attach the saved PDF and email it to <a href="mailto:TheHollandSeven@gmail.com" class="text-indigo-600 font-bold hover:underline">TheHollandSeven@gmail.com</a>.</li>
                    </ol>
                </div>
            </section>
        </div>

        <!-- Addendum (Dynamic) -->
        <div id="material-addendum" class="bg-slate-50 p-8 sm:p-12 border-t border-slate-200 page-break">
            <h3 class="text-xl font-bold text-slate-800 mb-2">Material Allowance Addendum</h3>
            <p class="text-sm text-slate-500 mb-8">Calculated per-unit allowances included in the Guaranteed Maximum Price.</p>
            
            <table class="material-table w-full border-collapse rounded-xl overflow-hidden shadow-sm bg-white">
                <thead>
                    <tr class="text-slate-500">
                        <th class="p-4 text-left border-b border-slate-200">Category</th>
                        <th class="p-4 text-left border-b border-slate-200">Item Description</th>
                        <th class="p-4 text-right border-b border-slate-200">Allowance</th>
                    </tr>
                </thead>
                <tbody id="addendum-rows">
                    <!-- Door row dynamically toggled -->
                    <tr id="row-door" class="hidden text-indigo-700 bg-indigo-50/30">
                        <td class="p-4 border-b border-slate-100 font-bold">UPGRADE</td>
                        <td class="p-4 border-b border-slate-100 font-medium">Glass Shower Door (315.00 + tax + labor)</td>
                        <td class="p-4 border-b border-slate-100 text-right font-mono font-bold">$315.00</td>
                    </tr>
                    <tr class="text-slate-700">
                        <td class="p-4 border-b border-slate-100 font-bold">Surround</td>
                        <td class="p-4 border-b border-slate-100">3-Piece High-Gloss Wall System</td>
                        <td class="text-right p-4 border-b border-slate-100 font-mono font-medium">$500.00</td>
                    </tr>
                    <tr class="text-slate-700">
                        <td class="p-4 border-b border-slate-100 font-bold">Floor</td>
                        <td class="p-4 border-b border-slate-100">Low-Profile Reinforced Shower Pan</td>
                        <td class="text-right p-4 border-b border-slate-100 font-mono font-medium">$300.00</td>
                    </tr>
                    <tr class="text-slate-700">
                        <td class="p-4 border-b border-slate-100 font-bold">Safety</td>
                        <td class="p-4 border-b border-slate-100">(2) 24" Stainless Steel ADA Grab Bars</td>
                        <td class="text-right p-4 border-b border-slate-100 font-mono font-medium">$145.00</td>
                    </tr>
                    <tr class="text-slate-700">
                        <td class="p-4 border-b border-slate-100 font-bold">Plumbing</td>
                        <td class="p-4 border-b border-slate-100">Valve ($250), Misc PVC ($75), Drain ($20)</td>
                        <td class="text-right p-4 border-b border-slate-100 font-mono font-medium">$345.00</td>
                    </tr>
                    <tr class="text-slate-700">
                        <td class="p-4 border-b border-slate-100 font-bold">Rough-In</td>
                        <td class="p-4 border-b border-slate-100">Mortar Bed, Silicone, Sealants, Fasteners</td>
                        <td class="text-right p-4 border-b border-slate-100 font-mono font-medium">$70.00</td>
                    </tr>
                    <tr class="text-slate-700">
                        <td class="p-4 border-b border-slate-100 font-bold">Admin</td>
                        <td class="p-4 border-b border-slate-100">Sales Tax (7%) & Project Disposal/Debris Fee</td>
                        <td id="admin-val" class="text-right p-4 border-b border-slate-100 font-mono font-medium">$220.20</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="bg-indigo-900 text-white font-bold">
                        <td colspan="2" class="p-4 text-right uppercase text-xs tracking-wider">Total Per Unit Material Allowance:</td>
                        <td id="total-allowance-val" class="p-4 text-right font-mono">$1,580.20</td>
                    </tr>
                </tfoot>
            </table>
            <div class="mt-6 flex justify-center no-print">
                <button onclick="window.print()" class="bg-indigo-600 text-white font-bold px-10 py-4 rounded-full shadow-lg hover:bg-indigo-700 transform transition hover:-translate-y-1">
                    Download PDF / Print Proposal
                </button>
            </div>
        </div>
    </div>

    <script>
        // Pricing Logic
        const checkUpper = document.getElementById('check-upper');
        const checkLower = document.getElementById('check-lower');
        const doorUpper = document.getElementById('door-upper');
        const doorLower = document.getElementById('door-lower');
        
        const upperPriceDisplay = document.getElementById('upper-price-display');
        const lowerPriceDisplay = document.getElementById('lower-price-display');
        const grandTotalDisplay = document.getElementById('grand-total');
        
        const rowDoor = document.getElementById('row-door');
        const adminVal = document.getElementById('admin-val');
        const allowanceVal = document.getElementById('total-allowance-val');

        const BASE_UPPER = 3990.20;
        const BASE_LOWER = 5115.20;
        const DOOR_ADDON = 607.05;

        function format(num) {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(num);
        }

        function update() {
            let upper = BASE_UPPER + (doorUpper.checked ? DOOR_ADDON : 0);
            let lower = BASE_LOWER + (doorLower.checked ? DOOR_ADDON : 0);
            
            upperPriceDisplay.innerText = format(upper);
            lowerPriceDisplay.innerText = format(lower);
            
            let total = 0;
            if (checkUpper.checked) total += upper;
            if (checkLower.checked) total += lower;
            
            grandTotalDisplay.innerText = format(total);

            // Update Addendum
            if (doorUpper.checked || doorLower.checked) {
                rowDoor.classList.remove('hidden');
                adminVal.innerText = format(242.25);
                allowanceVal.innerText = format(1917.25);
            } else {
                rowDoor.classList.add('hidden');
                adminVal.innerText = format(220.20);
                allowanceVal.innerText = format(1580.20);
            }
        }

        [checkUpper, checkLower, doorUpper, doorLower].forEach(el => el.addEventListener('change', update));
        update();

        // Signature Pad
        const canvas = document.getElementById('sig-pad');
        const ctx = canvas.getContext('2d');
        let drawing = false;

        function getPos(e) {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;
            return { x: clientX - rect.left, y: clientY - rect.top };
        }

        function start(e) {
            drawing = true;
            const pos = getPos(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
            e.preventDefault();
        }

        function move(e) {
            if (!drawing) return;
            const pos = getPos(e);
            ctx.lineTo(pos.x, pos.y);
            ctx.strokeStyle = "#1e293b";
            ctx.lineWidth = 2;
            ctx.lineCap = "round";
            ctx.stroke();
            e.preventDefault();
        }

        function stop() { drawing = false; }

        canvas.addEventListener('mousedown', start);
        canvas.addEventListener('mousemove', move);
        window.addEventListener('mouseup', stop);
        canvas.addEventListener('touchstart', start);
        canvas.addEventListener('touchmove', move);
        canvas.addEventListener('touchend', stop);

        function clearSig() { ctx.clearRect(0, 0, canvas.width, canvas.height); }
    </script>
</body>
</html>
